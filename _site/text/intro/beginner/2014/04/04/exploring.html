<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Generic Keyboard Implementation</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Adventures Programming BitWig API</a></h1>
            <nav>
            <a href="/">home</a>
          </nav>
          </div>

          <div class="post">
<h2>Generic Keyboard Implementation</h2>
<p class="meta">04 Apr 2014</p>
<p>One of the great aspects of open source, and BitWig in particular is that you can see the controller drivers others have made in order to learn how to build your own.</p>

<p>Everything starts from the <code>init()</code>, which is fired after BitWig recognizes your hardware, (how to do this is detailed in the Guide) and goes through the process of setting up how BitWig will respond to your hardware. Success will mean &quot;Called init()&quot; in the console.</p>

<p>This is where compilation errors will show.</p>

<p>The simplest driver is the <code>Generic Midi Keyboard</code>. In the init() here you see:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">host</span><span class="p">.</span><span class="nx">getMidiInPort</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">createNoteInput</span><span class="p">(</span><span class="s2">&quot;MIDI Keyboard&quot;</span><span class="p">);</span>
</code></pre></div>

<p>&quot;Midi Keyboard&quot; is available as an input to your tracks within the application.</p>

<p>All the MIDI note information is handled at this point, and for implementing a basic MIDI keyboard, this is all we need. The rest of the script handles controller (CC) data, knobs, faders and the like. Not bad eh?</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">host</span><span class="p">.</span><span class="nx">getMidiInPort</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">setMidiCallback</span><span class="p">(</span><span class="nx">onMidi</span><span class="p">);</span>
</code></pre></div>

<p>Sets up the callback for incoming MIDI information.</p>

<p>Callbacks are basically using functions as objects, and being setup to be fired off. This is an equivalent paradigm to <code>$(elem).on(&#39;click&#39;, handleElemClick)</code> in jQuery or <code>EventTarget.addEventListener( &#39;click&#39;, handleClick)</code> in stock JavaScript. So, <code>on(&#39;midinote&#39;, onMidi)</code>.</p>

<p><code>onMidi</code> is defined later in the document with <code>function onMidi(status, data1, data2)</code> and can be used like a variable in methods that support it. It may be helpful to think of this as <code>var onMidi = function(status, data1, data2)</code> as they are equivalent.</p>

<p>If you own any of the natively supported hardware, you should investigate the scripts for that and get an idea of how it is integrated. Don&#39;t worry about the details, just get a sense of how the application is structured.</p>

</div>


          <div class="footer">
              <img src="/img/grid_abstract.png">
            <div class="contact">
              <p>
                Sean Canton<br />
                JavaScript Developer<br/>
                Musician<br />
                Based in Miami, FL
              </p>
            </div>
            <div>
              <p>
                <a href="https://twitter.com/yourusername">twitter.com/seancanton</a><br />
                <a href="https://github.com/yourusername">github.com/eighteyes</a><br />
                <a href="https://soundcloud.com/a-listcat">
                soundcloud.com/a-listcat</a><br/>
                <span style="font-size:smaller">
                Made with <3 and <a href="http://jekyllrb.com/">Jekyll</a><br/><a href="http://8isc.com">Eight Eyes Creations</a></span>
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
